<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <title>Hector ä½¿ç”¨æŒ‡å— | Zexun Luo | ç½—æ³½å‹‹</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="1. ä»‹ç» ğŸ”—Hectoræ˜¯ä¸€ç§å½¢å¼åŠŸèƒ½éªŒè¯å·¥å…·ï¼Œæœ€å¼ºå¤§çš„ä¼˜åŠ¿æ˜¯éªŒè¯ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„ transaction ç­‰ä»·æ€§ï¼Œç”¨äºC/C&#43;&#43; model VS RTLçš„æ£€æŸ¥ã€‚
ç»„åˆç”µè·¯å’ŒC&#43;&#43;å‡½æ•°åœ¨è¾“å…¥ä¹‹é—´æ²¡æœ‰æ—¶é—´å»¶è¿Ÿåœ°æ‰§è¡Œäº‹åŠ¡å’Œè¾“å‡ºã€‚æ—¶é’ŸRTLç”µè·¯å¯èƒ½éœ€è¦ä¸€ä¸ªæˆ–å¤šä¸ªå‘¨æœŸæ¥è®¡ç®—äº‹åŠ¡ã€‚åœ¨æµæ°´çº¿çš„æƒ…å†µä¸‹ï¼Œå¤šä¸ªäº‹åŠ¡å¯èƒ½åœ¨å•ä¸ªè®¾è®¡å—ä¸­åŒæ—¶æ‰§è¡Œã€‚äº‹åŠ¡çš„æŒç»­æ—¶é—´ï¼ˆä»¥æ—¶é’Ÿå‘¨æœŸä¸ºå•ä½ï¼‰å¯èƒ½æ˜¯å›ºå®šçš„æˆ–ä¾èµ–äºæ•°æ®çš„ï¼Œä½†å¿…é¡»æœ‰ä¸€ä¸ªå·²çŸ¥çš„ä¸Šé™ã€‚
Hectorçš„ä¸€ä¸ªå…³é”®å¥½å¤„æ˜¯å¯¹äº‹åŠ¡ç­‰ä»·æ€§è¿›è¡Œå»ºæ¨¡ï¼Œåœ¨æ¯”è¾ƒçš„ä¸¤ä¸ªæ¨¡å‹ä¸­ï¼Œäº‹åŠ¡çš„å»¶è¿Ÿæ˜¯ä¸åŒçš„ã€‚Hectoråœ¨æ¯ç§è®¾è®¡ä¸­éƒ½ç‹¬ç«‹åœ°æ”¯æŒäº‹åŠ¡ç›¸å…³æ—¶é’Ÿç›¸ä½çš„è¾“å…¥çº¦æŸå’Œè¾“å‡ºæ¯”è¾ƒã€‚
2. å¿«é€Ÿå¼€å§‹ ğŸ”—2.1 ä¸ºC/C&#43;&#43;æ¨¡å‹ç¼–å†™ Hector å°è£…å™¨ ğŸ”—#include &lt;Hector.h&gt; void hector_wrapper() { int a, b, mul, madd; Hector::registerInput(&#34;in_a&#34;, a); Hector::registerInput(&#34;in_b&#34;, b); Hector::registerOutput(&#34;out_mul&#34;, mul); Hector::registerOutput(&#34;out_madd&#34;, madd); Hector::beginCapture(); compute(a, b, mul, madd); Hector::endCapture(); } å…¶ä¸­ Hector::registerInput(&quot;in_a&quot;, a);æŒ‡ç¤ºåº”å°†å˜é‡aè§†ä¸ºè¾“å…¥ï¼Œå¹¶åœ¨Hectorçš„æ‰€æœ‰åç»­æ­¥éª¤ä¸­å°†å…¶ç§°ä¸º in_aã€‚
2.2 å£°æ˜è§„èŒƒè®¾è®¡ ğŸ”—proc compile_spec {} { create_design -name spec -top hector_wrapper cppan foo.cc compile_design spec } cppan å‘½ä»¤åˆ†æC&#43;&#43;ç¨‹åºã€‚å®ƒå°†g&#43;&#43;ç¼–è¯‘å™¨é€‰é¡¹å’Œæ–‡ä»¶åˆ—è¡¨ä½œä¸ºå‚æ•°ã€‚æœ€å compile_design å‘½ä»¤å°†åä¸ºspecçš„è®¾è®¡ç¼–è¯‘ä¸ºDFGã€‚
2.3 å£°æ˜å®ç°è®¾è®¡ ğŸ”—proc compile_impl {} { create_design -name impl -top ima â€“clock clk â€“reset rst -negReset vcs foo.">
<meta name="generator" content="Hugo 0.100.1" />


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
<link href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js"></script>

 
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-KDTTBGMLCQ', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>é¦–é¡µ</a>
	
	
	
	

	
		<a href="/posts">åšå®¢</a>
	
		<a href="/tags">å½’æ¡£</a>
	
		<a href="/todos">äº‹é¡¹</a>
	
		<a href="/recipe">èœè°±</a>
	
		<a href="/about">å…³äº</a>
	

	
	  <a class="button" href="/index.xml">è®¢é˜…</a>
	
</nav>


    <main class="main">
      



<section id="single">
    <h1 class="title">Hector ä½¿ç”¨æŒ‡å—</h1>

    <div class="tip">
        <time datetime="2022-06-20 08:16:54 &#43;0800 CST">2022å¹´06æœˆ20æ—¥</time>
        <span class="split">
          Â·
        </span>
        <span>
          136å­—
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          1åˆ†é’Ÿ
        </span>
    </div>

    
    
    


    <div class="content">
      <h1 id="1-ä»‹ç»">1. ä»‹ç» <a href="#1-%e4%bb%8b%e7%bb%8d" class="anchor">ğŸ”—</a></h1><p>Hectoræ˜¯ä¸€ç§å½¢å¼åŠŸèƒ½éªŒè¯å·¥å…·ï¼Œæœ€å¼ºå¤§çš„ä¼˜åŠ¿æ˜¯éªŒè¯ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„ transaction ç­‰ä»·æ€§ï¼Œç”¨äºC/C++ model VS RTLçš„æ£€æŸ¥ã€‚</p>
<p>ç»„åˆç”µè·¯å’ŒC++å‡½æ•°åœ¨è¾“å…¥ä¹‹é—´æ²¡æœ‰æ—¶é—´å»¶è¿Ÿåœ°æ‰§è¡Œäº‹åŠ¡å’Œè¾“å‡ºã€‚æ—¶é’ŸRTLç”µè·¯å¯èƒ½éœ€è¦ä¸€ä¸ªæˆ–å¤šä¸ªå‘¨æœŸæ¥è®¡ç®—äº‹åŠ¡ã€‚åœ¨æµæ°´çº¿çš„æƒ…å†µä¸‹ï¼Œå¤šä¸ªäº‹åŠ¡å¯èƒ½åœ¨å•ä¸ªè®¾è®¡å—ä¸­åŒæ—¶æ‰§è¡Œã€‚äº‹åŠ¡çš„æŒç»­æ—¶é—´ï¼ˆä»¥æ—¶é’Ÿå‘¨æœŸä¸ºå•ä½ï¼‰å¯èƒ½æ˜¯å›ºå®šçš„æˆ–ä¾èµ–äºæ•°æ®çš„ï¼Œä½†å¿…é¡»æœ‰ä¸€ä¸ªå·²çŸ¥çš„ä¸Šé™ã€‚</p>
<p>Hectorçš„ä¸€ä¸ªå…³é”®å¥½å¤„æ˜¯å¯¹äº‹åŠ¡ç­‰ä»·æ€§è¿›è¡Œå»ºæ¨¡ï¼Œåœ¨æ¯”è¾ƒçš„ä¸¤ä¸ªæ¨¡å‹ä¸­ï¼Œäº‹åŠ¡çš„å»¶è¿Ÿæ˜¯ä¸åŒçš„ã€‚Hectoråœ¨æ¯ç§è®¾è®¡ä¸­éƒ½ç‹¬ç«‹åœ°æ”¯æŒäº‹åŠ¡ç›¸å…³æ—¶é’Ÿç›¸ä½çš„è¾“å…¥çº¦æŸå’Œè¾“å‡ºæ¯”è¾ƒã€‚</p>
<h1 id="2-å¿«é€Ÿå¼€å§‹">2. å¿«é€Ÿå¼€å§‹ <a href="#2-%e5%bf%ab%e9%80%9f%e5%bc%80%e5%a7%8b" class="anchor">ğŸ”—</a></h1><h2 id="21-ä¸ºccæ¨¡å‹ç¼–å†™-hector-å°è£…å™¨">2.1 ä¸ºC/C++æ¨¡å‹ç¼–å†™ Hector å°è£…å™¨ <a href="#21-%e4%b8%bacc%e6%a8%a1%e5%9e%8b%e7%bc%96%e5%86%99-hector-%e5%b0%81%e8%a3%85%e5%99%a8" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>#include &lt;Hector.h&gt;
</span></span><span style="display:flex;"><span>void hector_wrapper()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> int a, b, mul, madd;
</span></span><span style="display:flex;"><span> Hector::registerInput(&#34;in_a&#34;, a);
</span></span><span style="display:flex;"><span> Hector::registerInput(&#34;in_b&#34;, b);
</span></span><span style="display:flex;"><span> Hector::registerOutput(&#34;out_mul&#34;, mul);
</span></span><span style="display:flex;"><span> Hector::registerOutput(&#34;out_madd&#34;, madd);
</span></span><span style="display:flex;"><span> Hector::beginCapture();
</span></span><span style="display:flex;"><span> compute(a, b, mul, madd);
</span></span><span style="display:flex;"><span> Hector::endCapture();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å…¶ä¸­ <code>Hector::registerInput(&quot;in_a&quot;, a);</code>æŒ‡ç¤ºåº”å°†å˜é‡aè§†ä¸ºè¾“å…¥ï¼Œå¹¶åœ¨Hectorçš„æ‰€æœ‰åç»­æ­¥éª¤ä¸­å°†å…¶ç§°ä¸º in_aã€‚</p>
<h2 id="22-å£°æ˜è§„èŒƒè®¾è®¡">2.2 å£°æ˜è§„èŒƒè®¾è®¡ <a href="#22-%e5%a3%b0%e6%98%8e%e8%a7%84%e8%8c%83%e8%ae%be%e8%ae%a1" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>proc compile_spec {} {
</span></span><span style="display:flex;"><span> create_design -name spec -top hector_wrapper
</span></span><span style="display:flex;"><span> cppan foo.cc
</span></span><span style="display:flex;"><span> compile_design spec
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div><p>cppan å‘½ä»¤åˆ†æC++ç¨‹åºã€‚å®ƒå°†g++ç¼–è¯‘å™¨é€‰é¡¹å’Œæ–‡ä»¶åˆ—è¡¨ä½œä¸ºå‚æ•°ã€‚æœ€å compile_design å‘½ä»¤å°†åä¸ºspecçš„è®¾è®¡ç¼–è¯‘ä¸ºDFGã€‚</p>
<h2 id="23-å£°æ˜å®ç°è®¾è®¡">2.3 å£°æ˜å®ç°è®¾è®¡ <a href="#23-%e5%a3%b0%e6%98%8e%e5%ae%9e%e7%8e%b0%e8%ae%be%e8%ae%a1" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>proc compile_impl {} {
</span></span><span style="display:flex;"><span> create_design -name impl -top ima â€“clock clk â€“reset rst -negReset
</span></span><span style="display:flex;"><span> vcs foo.v
</span></span><span style="display:flex;"><span> compile_design impl
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div><h2 id="24-æ˜ å°„è®¾è®¡">2.4 æ˜ å°„è®¾è®¡ <a href="#24-%e6%98%a0%e5%b0%84%e8%ae%be%e8%ae%a1" class="anchor">ğŸ”—</a></h2><p>Hectorä½¿ç”¨TCLè¿‡ç¨‹ä¸­çš„å‘½ä»¤åœ¨åˆæˆæ­¥éª¤ä¸­æ˜ å°„è®¾è®¡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>set_user_assumes_lemmas_procedure â€œualâ€
</span></span><span style="display:flex;"><span>proc ual {} {
</span></span><span style="display:flex;"><span> map_by_name -inputs -specphase 1 -implphase 1 # map inputs
</span></span><span style="display:flex;"><span> map_by_name -outputs -specphase 1 -implphase 3 # map outputs
</span></span><span style="display:flex;"><span> assume op = impl.in_opcode(1) == 1&#39;b0 # constrain an input
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="25-è°ƒç”¨-hector">2.5 è°ƒç”¨ Hector <a href="#25-%e8%b0%83%e7%94%a8-hector" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>% hector â€“script script.tcl
</span></span></code></pre></div><h2 id="26-åˆ†æç»“æœ">2.6 åˆ†æç»“æœ <a href="#26-%e5%88%86%e6%9e%90%e7%bb%93%e6%9e%9c" class="anchor">ğŸ”—</a></h2><h2 id="27-è°ƒè¯•">2.7 è°ƒè¯• <a href="#27-%e8%b0%83%e8%af%95" class="anchor">ğŸ”—</a></h2>
    </div>

    
        <div class="tags">
            
                <a href="/tags/eda">eda</a>
            
        </div>
    
    
    


<script src="https://utteranc.es/client.js"
repo=""
issue-term=""
theme=""
crossorigin="anonymous"
async>
</script>





</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
       Â© Copyright 
       2022 
       <span class="split">
        <svg fill="#bbbbbb" width="15" height="15" version="1.1" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 15 15">
  <path d="M13.91,6.75c-1.17,2.25-4.3,5.31-6.07,6.94c-0.1903,0.1718-0.4797,0.1718-0.67,0C5.39,12.06,2.26,9,1.09,6.75&#xA;&#x9;C-1.48,1.8,5-1.5,7.5,3.45C10-1.5,16.48,1.8,13.91,6.75z"/>
</svg>
       </span>
       ç½—æ³½å‹‹
    
    </div>

    
</footer>



  </body>
</html>
