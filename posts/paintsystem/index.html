<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <title>Qt6 ç»˜åˆ¶åŸºç¡€ | Zexun Luo | ç½—æ³½å‹‹</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="ç»˜åˆ¶ç³»ç»Ÿ ğŸ”—Qt çš„ç»˜åˆ¶ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ç›¸åŒçš„ API åœ¨å±å¹•å’Œæ‰“å°è®¾å¤‡ä¸Šè¿›è¡Œç»˜åˆ¶ï¼Œå¹¶ä¸”ä¸»è¦åŸºäº QPainter ã€ QPaintDevice å’Œ QPaintEngine ç±»ã€‚
QPainter ç”¨äºæ‰§è¡Œç»˜å›¾æ“ä½œï¼Œ QPaintDevice æ˜¯äºŒç»´ç©ºé—´çš„æŠ½è±¡ï¼Œå¯ä»¥ä½¿ç”¨ è¿›è¡Œç»˜åˆ¶ QPainter ï¼Œ QPaintEngine æä¾›äº†ç”»å®¶ç”¨æ¥ç»˜åˆ¶ä¸åŒç±»å‹è®¾å¤‡çš„æ¥å£ã€‚ è¯¥ QPaintEngine ç±»æ˜¯ç”±åœ¨å†…éƒ¨ä½¿ç”¨ äº†QPainter å’Œ çš„QPaintDevice ï¼Œé™¤éä»–ä»¬åˆ›å»ºè‡ªå·±çš„è®¾å¤‡çš„ç§ç±»ä»åº”ç”¨ç¨‹åºå‘˜éšè—ã€‚
è¿™ç§æ–¹æ³•çš„ä¸»è¦å¥½å¤„æ˜¯æ‰€æœ‰ç»˜åˆ¶éƒ½éµå¾ªç›¸åŒçš„ç»˜åˆ¶ç®¡é“ï¼Œä»è€Œå¯ä»¥è½»æ¾æ·»åŠ å¯¹æ–°åŠŸèƒ½çš„æ”¯æŒå¹¶ä¸ºä¸å—æ”¯æŒçš„åŠŸèƒ½æä¾›é»˜è®¤å®ç°ã€‚
ä¸€ã€ç»˜å›¾ç¤ºä¾‹ ğŸ”—é€šå¸¸åœ¨ QWidget, QPixmap, QPixture, QPrinter ä¸Šé¢ç»˜å›¾ã€‚
ç¤ºä¾‹1 ç›´æ¥ç»˜åˆ¶ï¼š ğŸ”—MainWindow::MainWindow(QWidget *parent) : QMainWindow(parent) { QLabel *label = new QLabel(this); label-&gt;resize(100, 100); QPixmap pixmap(100, 100); pixmap.fill(Qt::gray); QPainter painter(&amp;pixmap); painter.drawRect(10, 10, 80, 80); painter.drawText(20, 30, &#34;Hello World&#34;); label-&gt;setPixmap(pixmap); QVBoxLayout *layout = new QVBoxLayout(); layout-&gt;addWidget(label); this-&gt;setLayout(layout); this-&gt;resize(200, 200); } è¿è¡Œç»“æœï¼š">
<meta name="generator" content="Hugo 0.100.1" />


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
<link href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js"></script>

 
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-KDTTBGMLCQ', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>é¦–é¡µ</a>
	
	
	
	

	
		<a href="/posts">åšå®¢</a>
	
		<a href="/tags">å½’æ¡£</a>
	
		<a href="/about">å…³äº</a>
	

	
	  <a class="button" href="/index.xml">è®¢é˜…</a>
	
</nav>


    <main class="main">
      



<section id="single">
    <h1 class="title">Qt6 ç»˜åˆ¶åŸºç¡€</h1>

    <div class="tip">
        <time datetime="2021-12-13 21:28:59 &#43;0800 CST">2021å¹´12æœˆ13æ—¥</time>
        <span class="split">
          Â·
        </span>
        <span>
          196å­—
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          1åˆ†é’Ÿ
        </span>
    </div>

    
    
    


    <div class="content">
      <h3 id="ç»˜åˆ¶ç³»ç»Ÿ">ç»˜åˆ¶ç³»ç»Ÿ <a href="#%e7%bb%98%e5%88%b6%e7%b3%bb%e7%bb%9f" class="anchor">ğŸ”—</a></h3><p>Qt çš„ç»˜åˆ¶ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ç›¸åŒçš„ API åœ¨å±å¹•å’Œæ‰“å°è®¾å¤‡ä¸Šè¿›è¡Œç»˜åˆ¶ï¼Œå¹¶ä¸”ä¸»è¦åŸºäº QPainter ã€ QPaintDevice å’Œ QPaintEngine ç±»ã€‚</p>
<p>QPainter ç”¨äºæ‰§è¡Œç»˜å›¾æ“ä½œï¼Œ QPaintDevice æ˜¯äºŒç»´ç©ºé—´çš„æŠ½è±¡ï¼Œå¯ä»¥ä½¿ç”¨ è¿›è¡Œç»˜åˆ¶ QPainter ï¼Œ QPaintEngine æä¾›äº†ç”»å®¶ç”¨æ¥ç»˜åˆ¶ä¸åŒç±»å‹è®¾å¤‡çš„æ¥å£ã€‚ è¯¥ QPaintEngine ç±»æ˜¯ç”±åœ¨å†…éƒ¨ä½¿ç”¨ äº†QPainter å’Œ çš„QPaintDevice ï¼Œé™¤éä»–ä»¬åˆ›å»ºè‡ªå·±çš„è®¾å¤‡çš„ç§ç±»ä»åº”ç”¨ç¨‹åºå‘˜éšè—ã€‚</p>
<p><p class="markdown-image">
  <img src="https://cdn.jsdelivr.net/gh/lzxqaq/jsdelivr@master/image/2021-12-13/paintsystem.png" alt="paintsystem"  />
</p></p>
<p>è¿™ç§æ–¹æ³•çš„ä¸»è¦å¥½å¤„æ˜¯æ‰€æœ‰ç»˜åˆ¶éƒ½éµå¾ªç›¸åŒçš„ç»˜åˆ¶ç®¡é“ï¼Œä»è€Œå¯ä»¥è½»æ¾æ·»åŠ å¯¹æ–°åŠŸèƒ½çš„æ”¯æŒå¹¶ä¸ºä¸å—æ”¯æŒçš„åŠŸèƒ½æä¾›é»˜è®¤å®ç°ã€‚</p>
<h3 id="ä¸€ç»˜å›¾ç¤ºä¾‹">ä¸€ã€ç»˜å›¾ç¤ºä¾‹ <a href="#%e4%b8%80%e7%bb%98%e5%9b%be%e7%a4%ba%e4%be%8b" class="anchor">ğŸ”—</a></h3><p>é€šå¸¸åœ¨ QWidget, QPixmap, QPixture, QPrinter ä¸Šé¢ç»˜å›¾ã€‚</p>
<h4 id="ç¤ºä¾‹1-ç›´æ¥ç»˜åˆ¶">ç¤ºä¾‹1 ç›´æ¥ç»˜åˆ¶ï¼š <a href="#%e7%a4%ba%e4%be%8b1-%e7%9b%b4%e6%8e%a5%e7%bb%98%e5%88%b6" class="anchor">ğŸ”—</a></h4><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>MainWindow::MainWindow(QWidget *parent)
</span></span><span style="display:flex;"><span>    : QMainWindow(parent)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    QLabel *label = new QLabel(this);
</span></span><span style="display:flex;"><span>    label-&gt;resize(100, 100);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    QPixmap pixmap(100, 100);
</span></span><span style="display:flex;"><span>    pixmap.fill(Qt::gray);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    QPainter painter(&amp;pixmap);
</span></span><span style="display:flex;"><span>    painter.drawRect(10, 10, 80, 80);
</span></span><span style="display:flex;"><span>    painter.drawText(20, 30, &#34;Hello World&#34;);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    label-&gt;setPixmap(pixmap);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    QVBoxLayout *layout = new QVBoxLayout();
</span></span><span style="display:flex;"><span>    layout-&gt;addWidget(label);
</span></span><span style="display:flex;"><span>    this-&gt;setLayout(layout);
</span></span><span style="display:flex;"><span>    this-&gt;resize(200, 200);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿è¡Œç»“æœï¼š</p>
<p><p class="markdown-image">
  <img src="https://cdn.jsdelivr.net/gh/lzxqaq/jsdelivr@master/image/2021-12-13/demo1.png" alt="demo1"  />
</p></p>
<h4 id="ç¤ºä¾‹2-painteventqpaintevent--å‡½æ•°ä¸­ç»˜åˆ¶">ç¤ºä¾‹2 paintEvent(QPaintEvent *) å‡½æ•°ä¸­ç»˜åˆ¶ï¼š <a href="#%e7%a4%ba%e4%be%8b2-painteventqpaintevent--%e5%87%bd%e6%95%b0%e4%b8%ad%e7%bb%98%e5%88%b6" class="anchor">ğŸ”—</a></h4><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>void MainWindow::paintEvent(QPaintEvent *)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    QPainter painter(this);
</span></span><span style="display:flex;"><span>    painter.setPen(Qt::gray);
</span></span><span style="display:flex;"><span>    painter.setBrush(Qt::green);
</span></span><span style="display:flex;"><span>    painter.drawRect(10, 10, 50, 50);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿è¡Œç»“æœï¼š</p>
<p><p class="markdown-image">
  <img src="https://cdn.jsdelivr.net/gh/lzxqaq/jsdelivr@master/image/2021-12-13/demo2.png" alt="demo2"  />
</p></p>
<h3 id="äºŒåæ ‡ç³»">äºŒã€åæ ‡ç³» <a href="#%e4%ba%8c%e5%9d%90%e6%a0%87%e7%b3%bb" class="anchor">ğŸ”—</a></h3><p>åæ ‡ç³»ç”± QPainter ç±»æ§åˆ¶ã€‚ç»˜å›¾è®¾å¤‡çš„é»˜è®¤åæ ‡ç³»çš„åŸç‚¹ä½äºå·¦ä¸Šè§’ã€‚ è¯¥ X å€¼å¢åŠ å‘å³å’Œ Y å€¼å‘ä¸‹å¢åŠ ã€‚ é»˜è®¤å•ä½åœ¨åŸºäºåƒç´ çš„è®¾å¤‡ä¸Šæ˜¯ä¸€ä¸ªåƒç´ ï¼Œåœ¨æ‰“å°æœºä¸Šæ˜¯ä¸€ä¸ªç‚¹ï¼ˆ1/72 è‹±å¯¸ï¼‰ã€‚æ³¨æ„ï¼šåŸç‚¹åœ¨ Widget çš„å·¦ä¸Šè§’è€Œä¸æ˜¯æ­£ä¸­å¿ƒï¼Œå¹¶ä¸”æ¯ä¸ª Widget éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„åæ ‡ç³»ã€‚</p>
<p>QPainter çš„é€»è¾‘åæ ‡åˆ°ç‰©ç† QPaintDevice åæ ‡çš„æ˜ å°„ç”± QPainter çš„è½¬æ¢çŸ©é˜µã€è§†å£å’Œâ€œçª—å£â€å¤„ç†ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œé€»è¾‘åæ ‡ç³»å’Œç‰©ç†åæ ‡ç³»æ˜¯ä¸€è‡´çš„ã€‚ QPainter è¿˜æ”¯æŒåæ ‡å˜æ¢ï¼ˆä¾‹å¦‚æ—‹è½¬å’Œç¼©æ”¾ï¼‰ã€‚</p>
<h4 id="æ¸²æŸ“-é€»è¾‘è¡¨ç¤º">æ¸²æŸ“ é€»è¾‘è¡¨ç¤º <a href="#%e6%b8%b2%e6%9f%93-%e9%80%bb%e8%be%91%e8%a1%a8%e7%a4%ba" class="anchor">ğŸ”—</a></h4><p>å›¾å½¢åŸºå…ƒçš„å¤§å°ï¼ˆå®½åº¦å’Œé«˜åº¦ï¼‰å§‹ç»ˆä¸å…¶æ•°å­¦æ¨¡å‹ç›¸å¯¹åº”ï¼Œå¿½ç•¥ç»˜åˆ¶å®ƒçš„ç¬”çš„å®½åº¦ï¼š</p>
<p><p class="markdown-image">
  <img src="https://cdn.jsdelivr.net/gh/lzxqaq/jsdelivr@master/image/2021-12-13/coordsys.png" alt="Paint-Base-Draw-Methods"  />
</p></p>
<h4 id="window-viewport-è½¬æ¢">Window-Viewport è½¬æ¢ <a href="#window-viewport-%e8%bd%ac%e6%8d%a2" class="anchor">ğŸ”—</a></h4><p>ä½¿ç”¨ Window-Viewport è½¬æ¢ï¼Œæ‚¨å¯ä»¥ä½¿é€»è¾‘åæ ‡ç³»é€‚åˆæ‚¨çš„åå¥½ã€‚ è¯¥æœºåˆ¶è¿˜å¯ç”¨äºä½¿ç»˜å›¾ä»£ç ç‹¬ç«‹äºç»˜å›¾è®¾å¤‡ã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨ ï¼Œä½¿é€»è¾‘åæ ‡ä» (-50, -50) æ‰©å±•åˆ° (50, 50)ï¼Œä»¥ (0, 0) ä¸ºä¸­å¿ƒ QPainter::setWindow () å‡½æ•° ï¼š</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>QPainter painter(this);
</span></span><span style="display:flex;"><span>painter.setWindow(QRect(-50, -50, 100, 100));
</span></span></code></pre></div><p>ç°åœ¨ï¼Œé€»è¾‘åæ ‡ (-50,-50) å¯¹åº”äºç»˜åˆ¶è®¾å¤‡çš„ç‰©ç†åæ ‡ (0, 0)ã€‚ ç‹¬ç«‹äºç»˜ç”»è®¾å¤‡ï¼Œæ‚¨çš„ç»˜ç”»ä»£ç å°†å§‹ç»ˆåœ¨æŒ‡å®šçš„é€»è¾‘åæ ‡ä¸Šè¿è¡Œã€‚</p>
<h3 id="ä¸‰å¸¸ç”¨å‡½æ•°">ä¸‰ã€å¸¸ç”¨å‡½æ•° <a href="#%e4%b8%89%e5%b8%b8%e7%94%a8%e5%87%bd%e6%95%b0" class="anchor">ğŸ”—</a></h3><p>ä¸‹å›¾æ¥è‡ªã€ŠC++ GUI Programming with Qt 4ã€‹ï¼Œåˆ—å‡ºäº† QPainter å¸¸ç”¨çš„ç”»å›¾æ–¹æ³•ã€‚</p>
<p><p class="markdown-image">
  <img src="https://cdn.jsdelivr.net/gh/lzxqaq/jsdelivr@master/image/2021-12-13/Paint-Base-Draw-Methods.png" alt="Paint-Base-Draw-Methods"  />
</p></p>
<h4 id="çº¿---drawline">çº¿ - drawLine() <a href="#%e7%ba%bf---drawline" class="anchor">ğŸ”—</a></h4><h4 id="å¤šçº¿æ®µ---drawlines">å¤šçº¿æ®µ - drawLines() <a href="#%e5%a4%9a%e7%ba%bf%e6%ae%b5---drawlines" class="anchor">ğŸ”—</a></h4><h4 id="æŠ˜çº¿---drawpolyline">æŠ˜çº¿ - drawPolyline() <a href="#%e6%8a%98%e7%ba%bf---drawpolyline" class="anchor">ğŸ”—</a></h4><h4 id="å¤šè¾¹å½¢---drawpolygon">å¤šè¾¹å½¢ - drawPolygon() <a href="#%e5%a4%9a%e8%be%b9%e5%bd%a2---drawpolygon" class="anchor">ğŸ”—</a></h4><h4 id="çŸ©å½¢---drawrect">çŸ©å½¢ - drawRect() <a href="#%e7%9f%a9%e5%bd%a2---drawrect" class="anchor">ğŸ”—</a></h4><h4 id="åœ†è§’çŸ©å½¢---drawroundrect--drawroundedrect">åœ†è§’çŸ©å½¢ - drawRoundRect() &amp; drawRoundedRect() <a href="#%e5%9c%86%e8%a7%92%e7%9f%a9%e5%bd%a2---drawroundrect--drawroundedrect" class="anchor">ğŸ”—</a></h4><h4 id="åœ†æ¤­åœ†---drawellipse">åœ†ã€æ¤­åœ† - drawEllipse() <a href="#%e5%9c%86%e6%a4%ad%e5%9c%86---drawellipse" class="anchor">ğŸ”—</a></h4><h4 id="å¼§å¼¦é¥¼å›¾---drawarcdrawchorddrawpie">å¼§ã€å¼¦ã€é¥¼å›¾ - drawArc()ã€drawChord()ã€drawPie() <a href="#%e5%bc%a7%e5%bc%a6%e9%a5%bc%e5%9b%be---drawarcdrawchorddrawpie" class="anchor">ğŸ”—</a></h4><h4 id="ç»˜åˆ¶-qpixmap---drawpixmap">ç»˜åˆ¶ QPixmap - drawPixmap() <a href="#%e7%bb%98%e5%88%b6-qpixmap---drawpixmap" class="anchor">ğŸ”—</a></h4><h4 id="ç»˜åˆ¶-qimage---drawimage">ç»˜åˆ¶ QImage - drawImage() <a href="#%e7%bb%98%e5%88%b6-qimage---drawimage" class="anchor">ğŸ”—</a></h4>
    </div>

    
    
    


<script src="https://utteranc.es/client.js"
repo=""
issue-term=""
theme=""
crossorigin="anonymous"
async>
</script>





</section>


    </main>
    
    <footer id="footer">
    

    <div class="copyright">
    
       Â© Copyright 
       2022 
       <span class="split">
        <svg fill="#bbbbbb" width="15" height="15" version="1.1" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 15 15">
  <path d="M13.91,6.75c-1.17,2.25-4.3,5.31-6.07,6.94c-0.1903,0.1718-0.4797,0.1718-0.67,0C5.39,12.06,2.26,9,1.09,6.75&#xA;&#x9;C-1.48,1.8,5-1.5,7.5,3.45C10-1.5,16.48,1.8,13.91,6.75z"/>
</svg>
       </span>
       ç½—æ³½å‹‹
    
    </div>

    
</footer>



  </body>
</html>
